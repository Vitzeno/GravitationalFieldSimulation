(this.webpackJsonpwebgl=this.webpackJsonpwebgl||[]).push([[0],{22:function(e,t,i){"use strict";i.r(t);var n,r,a,o,c=i(9),s=i.n(c),d=i(12),h=i.n(d),l=i(3),u=i(0),m=i(1),p=i(2),w=function e(t){var i=t.fov,n=t.aspect,r=t.near,a=t.far,o=t.position;Object(u.a)(this,e),this.threeCamera=void 0,this.update=function(e){},this.threeCamera=new l.l(i,n,r,a),this.threeCamera.position.copy(o)},f=i(13),b=function(e){Object(m.a)(i,e);var t=Object(p.a)(i);function i(e){var n,r=e.fov,a=e.aspect,o=e.near,c=e.far,s=e.position,d=e.target,h=e.domElement;return Object(u.a)(this,i),(n=t.call(this,{fov:r,aspect:a,near:o,far:c,position:s})).domElement=void 0,n.controls=void 0,n.target=void 0,n.zoomSpeed=2,n.rotateSpeed=2,n.panSpeed=2,n.update=function(e){n.controls.update(),console.log(n.threeCamera.position)},n.domElement=h,n.target=d,n.threeCamera.lookAt(d),n.controls=new f.a(n.threeCamera,n.domElement),n.controls.target.copy(d),n.controls.zoomSpeed=n.zoomSpeed,n.controls.rotateSpeed=n.rotateSpeed,n.controls.panSpeed=n.panSpeed,n.controls.update(),n}return i}(w),g=function e(){Object(u.a)(this,e),this.threeScene=void 0,this.update=function(e){},this.threeScene=new l.p},v=i(5),j=function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;Object(u.a)(this,e),this.trailObject=void 0,this.geometry=void 0,this.material=void 0,this.positions=void 0,this.counter=void 0,this.trailLength=void 0,this.update=function(e){},this.addPoint=function(e){var i=t.counter++,n=new l.j;n.position.copy(e),n.updateMatrix(),t.trailObject.setMatrixAt(i,n.matrix),t.counter%=t.trailLength,t.trailObject.instanceMatrix.needsUpdate=!0},this.trailLength=i,this.counter=0,this.positions=new Array(this.trailLength),this.positions.fill(new l.w(0,0,0)),this.material=new l.i({color:13421772}),this.geometry=new l.r(7,5,5),this.trailObject=new l.e(this.geometry,this.material,this.trailLength),this.trailObject.instanceMatrix.needsUpdate=!0},O=function(e){Object(m.a)(i,e);var t=Object(p.a)(i);function i(e){var n,r=e.position,a=e.name,o=e.mass,c=e.radius,s=e.colour,d=e.initialVelocity,h=e.scene;return Object(u.a)(this,i),(n=t.call(this,{geometry:new l.r(c,32,32),material:new l.i({color:s,wireframe:!0}),scene:h})).name=void 0,n.mass=void 0,n.radius=void 0,n.colour=void 0,n.initialVelocity=new l.w(0,0,0),n.currentVelocity=new l.w(0,0,0),n.gravitationalConstant=667408e-16,n.trail=new j,n.frameCount=0,n.frameUpdate=75,n.update=function(e){n.frameCount++,n.threeObject.rotateY(.1*e),n.threeObject.position.add(n.currentVelocity),n.frameCount===n.frameUpdate&&n.trail.addPoint(n.threeObject.position),n.frameCount%=n.frameUpdate},n.updateVelocity=function(e,t){e.forEach((function(e){if(e!==Object(v.a)(n)){var i=n.threeObject.position.distanceTo(e.threeObject.position),r=n.threeObject.position.clone().sub(e.threeObject.position).normalize().multiplyScalar(-1).multiplyScalar(n.gravitationalConstant*n.mass*e.mass/Math.pow(i,2)).divideScalar(n.mass);n.currentVelocity.add(r.multiplyScalar(t))}}))},n.turnOnTrails=function(){n.threeParentScene.add(n.trail.trailObject)},n.turnOffTrails=function(){n.threeParentScene.remove(n.trail.trailObject)},n.name=a,n.mass=o,n.radius=c,n.colour=s,n.threeObject.position.copy(r),n.initialVelocity=d,n.currentVelocity=n.initialVelocity,n}return i}((function e(t){var i=this,n=t.geometry,r=t.material,a=t.scene;Object(u.a)(this,e),this.threeObject=void 0,this.threeParentScene=void 0,this.geometry=void 0,this.material=void 0,this.update=function(e){i.threeObject.rotateX(1*e),i.threeObject.rotateY(1*e),i.threeObject.rotateZ(1*e)},this.geometry=n,this.material=r,this.threeParentScene=a,this.threeObject=new l.h(this.geometry,this.material),this.threeParentScene.add(this.threeObject)})),S=function(e){Object(m.a)(i,e);var t=Object(p.a)(i);function i(e){var n,r=e.enableGridX,a=e.enableGridY,o=e.enableGridZ;return Object(u.a)(this,i),(n=t.call(this)).gridSize=1e5,n.gridDivisions=10,n.gridX=new l.d(n.gridSize,n.gridDivisions),n.gridY=new l.d(n.gridSize,n.gridDivisions),n.gridZ=new l.d(n.gridSize,n.gridDivisions),n.planets=[new O({name:"Sun",mass:1e16,radius:696.34,colour:new l.b(65280),position:new l.w(0,0,-500),initialVelocity:new l.w(0,0,0),scene:n.threeScene}),new O({name:"Earth",mass:1e15,radius:63.71,colour:new l.b(255),position:new l.w(5e3,0,-500),initialVelocity:new l.w(0,0,-.5),scene:n.threeScene}),new O({name:"Moon",mass:1e3,radius:17.37,colour:new l.b(13421772),position:new l.w(5384,0,-500),initialVelocity:new l.w(0,0,-1.5),scene:n.threeScene})],n.update=function(e){n.planets.forEach((function(t){t.updateVelocity(n.planets,e)}))},r&&(n.gridX.rotateZ(Math.PI/2),n.threeScene.add(n.gridX)),a&&(n.gridY.rotateX(Math.PI/2),n.threeScene.add(n.gridY)),o&&n.threeScene.add(n.gridZ),n.planets.forEach((function(e){e.turnOnTrails()})),n}return i}(g),y=i(15),C=i(14),E=i(7),V=new l.a,P=0,z=function e(){requestAnimationFrame(e),P=V.getDelta(),document.title="FPS: ".concat(1/P),r.update(P),r.planets.forEach((function(e){return e.update(P)})),n.update(P),o.render(P)},M=function(){n.threeCamera.aspect=window.innerWidth/window.innerHeight,n.threeCamera.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)},x=function(){r=new S({enableGridX:!0,enableGridY:!0,enableGridZ:!0}),a=function(){var e;return(e=new l.y({antialias:!0})).setSize(window.innerWidth,window.innerHeight),e}(),n=new b({fov:90,aspect:window.innerWidth/window.innerHeight,near:.1,far:1e7,position:new l.w(-700,2e3,900),target:new l.w(0,0,-500),domElement:a.domElement}),document.body.appendChild(a.domElement),window.addEventListener("resize",M,!1);var e=new C.a(r.threeScene,n.threeCamera);(o=new y.a(a)).addPass(e),z()},G=function(e){e.name;return Object(c.useEffect)((function(){x()})),Object(E.jsx)(E.Fragment,{})};h.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(G,{name:"WebGL"})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.0b277b29.chunk.js.map